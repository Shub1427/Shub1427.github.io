<!DOCTYPE html><html lang="en"><head><meta name="theme-color" content="#5491da"/><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,300;0,400;0,500;0,700;1,300;1,400;1,500;1,700&amp;display=swap" rel="stylesheet"/><link href="/css/main.css" rel="stylesheet"/><meta name="next-head-count" content="4"/><link rel="preload" href="/_next/static/6kJMM_TxDVEvXWcLUXavL/pages/word-counter.js" as="script"/><link rel="preload" href="/_next/static/6kJMM_TxDVEvXWcLUXavL/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-b65cab0b00afd201cbda.js" as="script"/><link rel="preload" href="/_next/static/chunks/framework.934881a8a2d3672acc22.js" as="script"/><link rel="preload" href="/_next/static/chunks/84f5e2cf560b18cf029e9a13831ba2d8c5e3e6e5.ba00559c5f0e1cef9da2.js" as="script"/><link rel="preload" href="/_next/static/chunks/9bd90c1e007ffb861d857acf4f3e794df5aae144.1aa22e475cd9906a59d1.js" as="script"/><link rel="preload" href="/_next/static/chunks/6bab59c3dfd08aadeb27244d40658a4e31f084ec.9bf916f3b67eff4ae3db.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-294284df1e808cb28370.js" as="script"/><style id="jss-server-side">html {
  box-sizing: border-box;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
*, *::before, *::after {
  box-sizing: inherit;
}
strong, b {
  font-weight: 700;
}
body {
  color: rgba(0, 0, 0, 0.87);
  margin: 0;
  font-size: 0.875rem;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 400;
  line-height: 1.43;
  letter-spacing: 0.01071em;
  background-color: #FFFFFF;
}
@media print {
  body {
    background-color: #fff;
  }
}
body::backdrop {
  background-color: #FFFFFF;
}
.MuiPaper-root {
  color: rgba(0, 0, 0, 0.87);
  transition: box-shadow 300ms cubic-bezier(0.4, 0, 0.2, 1) 0ms;
  background-color: #fff;
}
.MuiPaper-rounded {
  border-radius: 4px;
}
.MuiPaper-outlined {
  border: 1px solid rgba(0, 0, 0, 0.12);
}
.MuiPaper-elevation0 {
  box-shadow: none;
}
.MuiPaper-elevation1 {
  box-shadow: 0px 2px 1px -1px rgba(0,0,0,0.2),0px 1px 1px 0px rgba(0,0,0,0.14),0px 1px 3px 0px rgba(0,0,0,0.12);
}
.MuiPaper-elevation2 {
  box-shadow: 0px 3px 1px -2px rgba(0,0,0,0.2),0px 2px 2px 0px rgba(0,0,0,0.14),0px 1px 5px 0px rgba(0,0,0,0.12);
}
.MuiPaper-elevation3 {
  box-shadow: 0px 3px 3px -2px rgba(0,0,0,0.2),0px 3px 4px 0px rgba(0,0,0,0.14),0px 1px 8px 0px rgba(0,0,0,0.12);
}
.MuiPaper-elevation4 {
  box-shadow: 0px 2px 4px -1px rgba(0,0,0,0.2),0px 4px 5px 0px rgba(0,0,0,0.14),0px 1px 10px 0px rgba(0,0,0,0.12);
}
.MuiPaper-elevation5 {
  box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2),0px 5px 8px 0px rgba(0,0,0,0.14),0px 1px 14px 0px rgba(0,0,0,0.12);
}
.MuiPaper-elevation6 {
  box-shadow: 0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12);
}
.MuiPaper-elevation7 {
  box-shadow: 0px 4px 5px -2px rgba(0,0,0,0.2),0px 7px 10px 1px rgba(0,0,0,0.14),0px 2px 16px 1px rgba(0,0,0,0.12);
}
.MuiPaper-elevation8 {
  box-shadow: 0px 5px 5px -3px rgba(0,0,0,0.2),0px 8px 10px 1px rgba(0,0,0,0.14),0px 3px 14px 2px rgba(0,0,0,0.12);
}
.MuiPaper-elevation9 {
  box-shadow: 0px 5px 6px -3px rgba(0,0,0,0.2),0px 9px 12px 1px rgba(0,0,0,0.14),0px 3px 16px 2px rgba(0,0,0,0.12);
}
.MuiPaper-elevation10 {
  box-shadow: 0px 6px 6px -3px rgba(0,0,0,0.2),0px 10px 14px 1px rgba(0,0,0,0.14),0px 4px 18px 3px rgba(0,0,0,0.12);
}
.MuiPaper-elevation11 {
  box-shadow: 0px 6px 7px -4px rgba(0,0,0,0.2),0px 11px 15px 1px rgba(0,0,0,0.14),0px 4px 20px 3px rgba(0,0,0,0.12);
}
.MuiPaper-elevation12 {
  box-shadow: 0px 7px 8px -4px rgba(0,0,0,0.2),0px 12px 17px 2px rgba(0,0,0,0.14),0px 5px 22px 4px rgba(0,0,0,0.12);
}
.MuiPaper-elevation13 {
  box-shadow: 0px 7px 8px -4px rgba(0,0,0,0.2),0px 13px 19px 2px rgba(0,0,0,0.14),0px 5px 24px 4px rgba(0,0,0,0.12);
}
.MuiPaper-elevation14 {
  box-shadow: 0px 7px 9px -4px rgba(0,0,0,0.2),0px 14px 21px 2px rgba(0,0,0,0.14),0px 5px 26px 4px rgba(0,0,0,0.12);
}
.MuiPaper-elevation15 {
  box-shadow: 0px 8px 9px -5px rgba(0,0,0,0.2),0px 15px 22px 2px rgba(0,0,0,0.14),0px 6px 28px 5px rgba(0,0,0,0.12);
}
.MuiPaper-elevation16 {
  box-shadow: 0px 8px 10px -5px rgba(0,0,0,0.2),0px 16px 24px 2px rgba(0,0,0,0.14),0px 6px 30px 5px rgba(0,0,0,0.12);
}
.MuiPaper-elevation17 {
  box-shadow: 0px 8px 11px -5px rgba(0,0,0,0.2),0px 17px 26px 2px rgba(0,0,0,0.14),0px 6px 32px 5px rgba(0,0,0,0.12);
}
.MuiPaper-elevation18 {
  box-shadow: 0px 9px 11px -5px rgba(0,0,0,0.2),0px 18px 28px 2px rgba(0,0,0,0.14),0px 7px 34px 6px rgba(0,0,0,0.12);
}
.MuiPaper-elevation19 {
  box-shadow: 0px 9px 12px -6px rgba(0,0,0,0.2),0px 19px 29px 2px rgba(0,0,0,0.14),0px 7px 36px 6px rgba(0,0,0,0.12);
}
.MuiPaper-elevation20 {
  box-shadow: 0px 10px 13px -6px rgba(0,0,0,0.2),0px 20px 31px 3px rgba(0,0,0,0.14),0px 8px 38px 7px rgba(0,0,0,0.12);
}
.MuiPaper-elevation21 {
  box-shadow: 0px 10px 13px -6px rgba(0,0,0,0.2),0px 21px 33px 3px rgba(0,0,0,0.14),0px 8px 40px 7px rgba(0,0,0,0.12);
}
.MuiPaper-elevation22 {
  box-shadow: 0px 10px 14px -6px rgba(0,0,0,0.2),0px 22px 35px 3px rgba(0,0,0,0.14),0px 8px 42px 7px rgba(0,0,0,0.12);
}
.MuiPaper-elevation23 {
  box-shadow: 0px 11px 14px -7px rgba(0,0,0,0.2),0px 23px 36px 3px rgba(0,0,0,0.14),0px 9px 44px 8px rgba(0,0,0,0.12);
}
.MuiPaper-elevation24 {
  box-shadow: 0px 11px 15px -7px rgba(0,0,0,0.2),0px 24px 38px 3px rgba(0,0,0,0.14),0px 9px 46px 8px rgba(0,0,0,0.12);
}
.MuiTypography-root {
  margin: 0;
}
.MuiTypography-body2 {
  font-size: 0.875rem;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 400;
  line-height: 1.43;
  letter-spacing: 0.01071em;
}
.MuiTypography-body1 {
  font-size: 1rem;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 400;
  line-height: 1.5;
  letter-spacing: 0.00938em;
}
.MuiTypography-caption {
  font-size: 0.75rem;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 400;
  line-height: 1.66;
  letter-spacing: 0.03333em;
}
.MuiTypography-button {
  font-size: 0.875rem;
  font-family: "Roboto", "Helvetica", "Arial", sans-serif;
  font-weight: 500;
  line-height: 1.75;
  letter-spacing: 0.02857em;
  text-transform: uppercase;
}
.MuiTypography-h1 {
  font-size: 3.5rem;
  font-family: 'Merriweather Sans', sans-serif;
  font-weight: 300;
  line-height: 1.167;
  letter-spacing: -0.01562em;
}
@media (min-width:600px) {
  .MuiTypography-h1 {
    font-size: 4.7129rem;
  }
}
@media (min-width:960px) {
  .MuiTypography-h1 {
    font-size: 5.3556rem;
  }
}
@media (min-width:1280px) {
  .MuiTypography-h1 {
    font-size: 5.9983rem;
  }
}
  .MuiTypography-h2 {
    font-size: 2.375rem;
    font-family: 'Merriweather Sans', sans-serif;
    font-weight: 300;
    line-height: 1.2;
    letter-spacing: -0.00833em;
  }
@media (min-width:600px) {
  .MuiTypography-h2 {
    font-size: 2.9167rem;
  }
}
@media (min-width:960px) {
  .MuiTypography-h2 {
    font-size: 3.3333rem;
  }
}
@media (min-width:1280px) {
  .MuiTypography-h2 {
    font-size: 3.75rem;
  }
}
  .MuiTypography-h3 {
    font-size: 2rem;
    font-family: "Roboto", "Helvetica", "Arial", sans-serif;
    font-weight: 400;
    line-height: 1.167;
    letter-spacing: 0em;
  }
@media (min-width:600px) {
  .MuiTypography-h3 {
    font-size: 2.5707rem;
  }
}
@media (min-width:960px) {
  .MuiTypography-h3 {
    font-size: 2.7849rem;
  }
}
@media (min-width:1280px) {
  .MuiTypography-h3 {
    font-size: 2.9991rem;
  }
}
  .MuiTypography-h4 {
    font-size: 1.5625rem;
    font-family: "Roboto", "Helvetica", "Arial", sans-serif;
    font-weight: 400;
    line-height: 1.235;
    letter-spacing: 0.00735em;
  }
@media (min-width:600px) {
  .MuiTypography-h4 {
    font-size: 1.8219rem;
  }
}
@media (min-width:960px) {
  .MuiTypography-h4 {
    font-size: 2.0243rem;
  }
}
@media (min-width:1280px) {
  .MuiTypography-h4 {
    font-size: 2.0243rem;
  }
}
  .MuiTypography-h5 {
    font-size: 1.25rem;
    font-family: "Roboto", "Helvetica", "Arial", sans-serif;
    font-weight: 400;
    line-height: 1.334;
    letter-spacing: 0em;
  }
@media (min-width:600px) {
  .MuiTypography-h5 {
    font-size: 1.3118rem;
  }
}
@media (min-width:960px) {
  .MuiTypography-h5 {
    font-size: 1.4993rem;
  }
}
@media (min-width:1280px) {
  .MuiTypography-h5 {
    font-size: 1.4993rem;
  }
}
  .MuiTypography-h6 {
    font-size: 1.125rem;
    font-family: "Roboto", "Helvetica", "Arial", sans-serif;
    font-weight: 500;
    line-height: 1.6;
    letter-spacing: 0.0075em;
  }
@media (min-width:600px) {
  .MuiTypography-h6 {
    font-size: 1.25rem;
  }
}
@media (min-width:960px) {
  .MuiTypography-h6 {
    font-size: 1.25rem;
  }
}
@media (min-width:1280px) {
  .MuiTypography-h6 {
    font-size: 1.25rem;
  }
}
  .MuiTypography-subtitle1 {
    font-size: 1rem;
    font-family: "Roboto", "Helvetica", "Arial", sans-serif;
    font-weight: 400;
    line-height: 1.75;
    letter-spacing: 0.00938em;
  }
  .MuiTypography-subtitle2 {
    font-size: 0.875rem;
    font-family: "Roboto", "Helvetica", "Arial", sans-serif;
    font-weight: 500;
    line-height: 1.57;
    letter-spacing: 0.00714em;
  }
  .MuiTypography-overline {
    font-size: 0.75rem;
    font-family: "Roboto", "Helvetica", "Arial", sans-serif;
    font-weight: 400;
    line-height: 2.66;
    letter-spacing: 0.08333em;
    text-transform: uppercase;
  }
  .MuiTypography-srOnly {
    width: 1px;
    height: 1px;
    overflow: hidden;
    position: absolute;
  }
  .MuiTypography-alignLeft {
    text-align: left;
  }
  .MuiTypography-alignCenter {
    text-align: center;
  }
  .MuiTypography-alignRight {
    text-align: right;
  }
  .MuiTypography-alignJustify {
    text-align: justify;
  }
  .MuiTypography-noWrap {
    overflow: hidden;
    white-space: nowrap;
    text-overflow: ellipsis;
  }
  .MuiTypography-gutterBottom {
    margin-bottom: 0.35em;
  }
  .MuiTypography-paragraph {
    margin-bottom: 16px;
  }
  .MuiTypography-colorInherit {
    color: inherit;
  }
  .MuiTypography-colorPrimary {
    color: #5491da;
  }
  .MuiTypography-colorSecondary {
    color: #8FADDC;
  }
  .MuiTypography-colorTextPrimary {
    color: rgba(0, 0, 0, 0.87);
  }
  .MuiTypography-colorTextSecondary {
    color: rgba(0, 0, 0, 0.54);
  }
  .MuiTypography-colorError {
    color: #ff1744;
  }
  .MuiTypography-displayInline {
    display: inline;
  }
  .MuiTypography-displayBlock {
    display: block;
  }
  .MuiCard-root {
    overflow: hidden;
  }
  .MuiContainer-root {
    width: 100%;
    display: block;
    box-sizing: border-box;
    margin-left: auto;
    margin-right: auto;
    padding-left: 16px;
    padding-right: 16px;
  }
@media (min-width:600px) {
  .MuiContainer-root {
    padding-left: 24px;
    padding-right: 24px;
  }
}
  .MuiContainer-disableGutters {
    padding-left: 0;
    padding-right: 0;
  }
@media (min-width:600px) {
  .MuiContainer-fixed {
    max-width: 600px;
  }
}
@media (min-width:960px) {
  .MuiContainer-fixed {
    max-width: 960px;
  }
}
@media (min-width:1280px) {
  .MuiContainer-fixed {
    max-width: 1280px;
  }
}
@media (min-width:1920px) {
  .MuiContainer-fixed {
    max-width: 1920px;
  }
}
@media (min-width:0px) {
  .MuiContainer-maxWidthXs {
    max-width: 444px;
  }
}
@media (min-width:600px) {
  .MuiContainer-maxWidthSm {
    max-width: 600px;
  }
}
@media (min-width:960px) {
  .MuiContainer-maxWidthMd {
    max-width: 960px;
  }
}
@media (min-width:1280px) {
  .MuiContainer-maxWidthLg {
    max-width: 1280px;
  }
}
@media (min-width:1920px) {
  .MuiContainer-maxWidthXl {
    max-width: 1920px;
  }
}
  .MuiLink-underlineNone {
    text-decoration: none;
  }
  .MuiLink-underlineHover {
    text-decoration: none;
  }
  .MuiLink-underlineHover:hover {
    text-decoration: underline;
  }
  .MuiLink-underlineAlways {
    text-decoration: underline;
  }
  .MuiLink-button {
    border: 0;
    cursor: pointer;
    margin: 0;
    outline: 0;
    padding: 0;
    position: relative;
    user-select: none;
    border-radius: 0;
    vertical-align: middle;
    -moz-appearance: none;
    background-color: transparent;
    -webkit-appearance: none;
    -webkit-tap-highlight-color: transparent;
  }
  .MuiLink-button::-moz-focus-inner {
    border-style: none;
  }
  .MuiLink-button.Mui-focusVisible {
    outline: auto;
  }
  .jss44 {
    color: #777;
    margin: 12px 0;
    padding: 16px 8px;
    background: #f2f2f2;
  }
  .jss44 > p {
    font-size: 0.9rem;
  }
  .jss45 {
    border-left: 12px solid #64b5f6;
  }
  .jss46 {
    border-left: 12px solid #ffd54f;
  }
  .jss47 {
    border-left: 12px solid #ef5350;
  }
  .jss10 {
    padding: 0;
    margin-bottom: 48px;
  }
  .jss84 {
    margin: 48px 0 16px;
    padding: 0;
  }
  .jss86 {
    margin: 32px 0 12px;
    padding: 0;
  }
  .jss85 {
    margin-bottom: 16px;
  }
  .jss77 {
    color: #933;
    margin: 0 2px;
    padding: 1px 8px;
    background: rgba(0, 0, 0, 0.05);
  }
  .jss87 {
    border: medium none;
    font-size: 32px;
    margin-top: 32px;
    text-align: center;
    font-weight: 300;
  }
  .jss87:before {
    content: '***';
    line-height: 1.4;
    text-indent: 1em;
    letter-spacing: 1em;
  }
  .jss1 {
    padding: 64px 32px;
    position: relative;
  }
  .jss41 {
    color: #888;
    display: flex;
    font-size: 12px;
    margin-top: -48px;
    align-items: center;
  }
  .jss42 {
    display: inline-block;
  }
  .jss43 {
    margin: 0 4px;
    display: inline-block;
    font-size: 1.5em;
    line-height: 0.8;
  }</style></head><body><div id="__next"><div class="MuiContainer-root jss1 MuiContainer-maxWidthMd"><svg width="100%" height="100%" style="position:absolute;z-index:-1;left:0;top:0"><defs><pattern id="polka-dots" x="0" y="0" patternUnits="userSpaceOnUse" width="50" height="50"><circle fill="#e3f2fd" cx="12.5" cy="12.5" r="2.0833"></circle><circle fill="#e3f2fd" cx="37.5" cy="12.5" r="2.0833"></circle><circle fill="#e3f2fd" cx="0" cy="37.5" r="2.0833"></circle><circle fill="#e3f2fd" cx="25" cy="37.5" r="2.0833"></circle><circle fill="#e3f2fd" cx="50" cy="37.5" r="2.0833"></circle></pattern></defs><rect x="0" y="0" width="100%" height="100%" fill="url(#polka-dots)"></rect></svg><h2 class="MuiTypography-root jss10 MuiTypography-h2">Word Counter</h2><div class="jss41"><p class="MuiTypography-root jss42 MuiTypography-body2">Apr 26</p><span class="jss43">•</span><p class="MuiTypography-root jss42 MuiTypography-body2">3<!-- --> min read</p></div><p class="MuiTypography-root MuiTypography-body1">This is a fun script, that I am trying out to learn rust. Also benifitting myself,
with a script that will automate to get an approx. count of words from my MDX notes,
which later on will help me to get the read time per notes.</p><div class="MuiPaper-root MuiCard-root jss44 jss46 MuiPaper-elevation0 MuiPaper-rounded">The Word Counter code is written in 2hrs time, and is not optimal. It uses brute force to remove templates matched by different <code class="jss77">regex</code>expressions, one by one in sequence. I will someday improve this script, to use AST for better perfomance and accurate results.<br/><br/><i>References to read later:<br/><a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="https://ruslanspivak.com/lsbasi-part1/" target="_blank">Let&#x27;s build an Interpreter</a> and <a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" href="https://compilers.iecc.com/crenshaw/" target="_blank">Let&#x27;s build a Compiler</a>.</i></div><h4 class="MuiTypography-root jss84 MuiTypography-h4">Code Breakup</h4><p class="MuiTypography-root MuiTypography-body1">First of all, I am using <code class="jss77">regex</code> crate, which is offical crate support by Rust.</p><p class="MuiTypography-root MuiTypography-body1">Using <code class="jss77">regex</code> is simple and it uses <a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" target="_blank" href="https://github.com/google/re2/wiki/Syntax">RE2</a> syntax,
which is a superset for Javascript <a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/RegExp">RegExp</a>.</p><p class="MuiTypography-root MuiTypography-body1">Reading data from <code class="jss77">stdin</code>, required as we will use our build as a pipe function later:</p><pre><div class="jss85"><pre style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em;background:#1d1f21"><code style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#96CBFE">use</span> std<span class="token" style="color:#c5c8c6">::</span>io<span class="token" style="color:#c5c8c6">::</span><span class="token" style="color:#c5c8c6">{</span><span class="token" style="color:#96CBFE">self</span><span class="token" style="color:#c5c8c6">,</span> Read<span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">;</span>
<span class="token" style="color:#c5c8c6">...</span>
<span class="token" style="color:#96CBFE">let</span> <span class="token" style="color:#96CBFE">mut</span> buffer <span class="token" style="color:#EDEDED">=</span> String<span class="token" style="color:#c5c8c6">::</span><span class="token" style="color:#DAD085">new</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span>
io<span class="token" style="color:#c5c8c6">::</span><span class="token" style="color:#DAD085">stdin</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">read_to_string</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#EDEDED">&amp;</span><span class="token" style="color:#96CBFE">mut</span> buffer<span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#EDEDED">?</span><span class="token" style="color:#c5c8c6">;</span>
<span class="token" style="color:#c5c8c6">...</span>
</code></pre></div></pre><p class="MuiTypography-root MuiTypography-body1">Now we need few regular expressions to be pre-compiled, so as to use them later</p><pre><div class="jss85"><pre style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em;background:#1d1f21"><code style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;float:left;padding-right:10px"><span class="react-syntax-highlighter-line-number">1
</span><span class="react-syntax-highlighter-line-number">2
</span><span class="react-syntax-highlighter-line-number">3
</span><span class="react-syntax-highlighter-line-number">4
</span><span class="react-syntax-highlighter-line-number">5
</span><span class="react-syntax-highlighter-line-number">6
</span><span class="react-syntax-highlighter-line-number">7
</span><span class="react-syntax-highlighter-line-number">8
</span><span class="react-syntax-highlighter-line-number">9
</span></code><code style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#96CBFE">use</span> regex<span class="token" style="color:#c5c8c6">::</span><span class="token" style="color:#c5c8c6">{</span>Regex<span class="token" style="color:#c5c8c6">,</span> RegexBuilder<span class="token" style="color:#c5c8c6">,</span> Captures<span class="token" style="color:#c5c8c6">}</span><span class="token" style="color:#c5c8c6">;</span>
<span class="token" style="color:#c5c8c6">...</span>
<span class="token" style="color:#96CBFE">let</span> re1 <span class="token" style="color:#EDEDED">=</span> Regex<span class="token" style="color:#c5c8c6">::</span><span class="token" style="color:#DAD085">new</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">r&quot;&lt;\s*[^&gt;]*&gt;(.*?)&lt;\s*/.*\s*&gt;&quot;</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">unwrap</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span>
<span class="token" style="color:#96CBFE">let</span> re2 <span class="token" style="color:#EDEDED">=</span> Regex<span class="token" style="color:#c5c8c6">::</span><span class="token" style="color:#DAD085">new</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">r&quot;&lt;\s*[^&gt;]*/?&gt;|&lt;\s*/.*\s*&gt;&quot;</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">unwrap</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span>
<span class="token" style="color:#96CBFE">let</span> re3 <span class="token" style="color:#EDEDED">=</span> RegexBuilder<span class="token" style="color:#c5c8c6">::</span><span class="token" style="color:#DAD085">new</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">r&quot;^(`{3}\w)[^`]*(`{3})$&quot;</span><span class="token" style="color:#c5c8c6">)</span>
    <span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">multi_line</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#96CBFE">true</span><span class="token" style="color:#c5c8c6">)</span>
    <span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">dot_matches_new_line</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#96CBFE">true</span><span class="token" style="color:#c5c8c6">)</span>
    <span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">build</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span>
<span class="token" style="color:#c5c8c6">...</span>
</code></pre></div></pre><p class="MuiTypography-root MuiTypography-body1"><strong>Line 3.</strong> creates a regex for all HTML Container Tags, extracting out the inner strings,
so as to word count them later.</p><p class="MuiTypography-root MuiTypography-body1"><strong>Line 4.</strong> creates a regex from all HTML Empty Tags and previously uncatched Opening/Closing Tags.</p><p class="MuiTypography-root MuiTypography-body1"><strong>Line 5.</strong> helps to create a multi-line flagged regexp, so as to match all the Code Blocks.</p><div class="MuiPaper-root MuiCard-root jss44 jss45 MuiPaper-elevation0 MuiPaper-rounded"><p class="MuiTypography-root MuiTypography-body1">Note: Code Diff Blocks are still remaining to be checked. Currently the content inside Code
Diff block will be part of Word counts.</p></div><p class="MuiTypography-root MuiTypography-body1">All the above regex will later on be used to replace their matches with empty string,
so as to remove them. 🎉 ✌️</p><h5 class="MuiTypography-root jss86 MuiTypography-h5">Some more regex:</h5><pre><div class="jss85"><pre style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em;background:#1d1f21"><code style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#96CBFE">let</span> return_to_space <span class="token" style="color:#EDEDED">=</span> Regex<span class="token" style="color:#c5c8c6">::</span><span class="token" style="color:#DAD085">new</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">r&quot;\n&quot;</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">unwrap</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span>
<span class="token" style="color:#96CBFE">let</span> space_re <span class="token" style="color:#EDEDED">=</span> Regex<span class="token" style="color:#c5c8c6">::</span><span class="token" style="color:#DAD085">new</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">r&quot;\s&quot;</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">unwrap</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span>
</code></pre></div></pre><p class="MuiTypography-root MuiTypography-body1"><code class="jss77">return_to_space</code> regex will be used to remove all the remaing <code class="jss77">return</code>s from the output string,
that we will get, using previous regex.</p><p class="MuiTypography-root MuiTypography-body1"><code class="jss77">space_re</code> regex, will later on be used to filter out extra spaces, so as to improve word count
accuracy.</p><h5 class="MuiTypography-root jss86 MuiTypography-h5">Final Regex to extract Words</h5><pre><div class="jss85"><pre style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none;padding:1em;margin:.5em 0;overflow:auto;border-radius:0.3em;background:#1d1f21"><code style="color:#c5c8c6;text-shadow:0 1px rgba(0, 0, 0, 0.3);font-family:Inconsolata, Monaco, Consolas, &#x27;Courier New&#x27;, Courier, monospace;direction:ltr;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none"><span class="token" style="color:#96CBFE">let</span> word_counter_re <span class="token" style="color:#EDEDED">=</span> RegexBuilder<span class="token" style="color:#c5c8c6">::</span><span class="token" style="color:#DAD085">new</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#A8FF60">r&quot;[^\s#\*]*&quot;</span><span class="token" style="color:#c5c8c6">)</span>
  <span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">multi_line</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#96CBFE">true</span><span class="token" style="color:#c5c8c6">)</span>
  <span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">dot_matches_new_line</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#96CBFE">true</span><span class="token" style="color:#c5c8c6">)</span>
  <span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">build</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span>
  <span class="token" style="color:#c5c8c6">.</span><span class="token" style="color:#DAD085">unwrap</span><span class="token" style="color:#c5c8c6">(</span><span class="token" style="color:#c5c8c6">)</span><span class="token" style="color:#c5c8c6">;</span>
</code></pre></div></pre><p class="MuiTypography-root MuiTypography-body1">Do note, above regex is not for pure words, as in our <code class="jss77">mdx</code> files, we have inline code-snippets,
and more stuff, which breaks if <code class="jss77">\w+</code> is directly used. Thus we needed to get all chars which are
not space, <code class="jss77">#</code> and <code class="jss77">*</code>. I know, this regex might be incomplete, or needs more chars for proper filter,
but for now it&#x27;s fine as we need approximate results, not accurate.</p><br/><p class="MuiTypography-root MuiTypography-body1">Finally, using the above regex and filtering our extra spaces, we can get an approximate
count of all the words present in our Notes, so as to later on generate Read Time for
our Notes.</p><br/><div class="MuiPaper-root MuiCard-root jss44 jss45 MuiPaper-elevation0 MuiPaper-rounded"><p class="MuiTypography-root MuiTypography-body1">You can find full code, for this note, <a class="MuiTypography-root MuiLink-root MuiLink-underlineHover MuiTypography-colorPrimary" target="_blank" href="https://github.com/Shub1427/shub1427.github.io/tree/react/scripts/src/bin/word-counter.rs">here</a>.</p></div><hr class="jss87"/></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/word-counter","query":{},"buildId":"6kJMM_TxDVEvXWcLUXavL","nextExport":true,"autoExport":true,"isFallback":false}</script><script nomodule="" src="/_next/static/runtime/polyfills-fcdaceb475a9116d3d01.js"></script><script async="" data-next-page="/word-counter" src="/_next/static/6kJMM_TxDVEvXWcLUXavL/pages/word-counter.js"></script><script async="" data-next-page="/_app" src="/_next/static/6kJMM_TxDVEvXWcLUXavL/pages/_app.js"></script><script src="/_next/static/runtime/webpack-b65cab0b00afd201cbda.js" async=""></script><script src="/_next/static/chunks/framework.934881a8a2d3672acc22.js" async=""></script><script src="/_next/static/chunks/84f5e2cf560b18cf029e9a13831ba2d8c5e3e6e5.ba00559c5f0e1cef9da2.js" async=""></script><script src="/_next/static/chunks/9bd90c1e007ffb861d857acf4f3e794df5aae144.1aa22e475cd9906a59d1.js" async=""></script><script src="/_next/static/chunks/6bab59c3dfd08aadeb27244d40658a4e31f084ec.9bf916f3b67eff4ae3db.js" async=""></script><script src="/_next/static/runtime/main-294284df1e808cb28370.js" async=""></script><script src="/_next/static/6kJMM_TxDVEvXWcLUXavL/_buildManifest.js" async=""></script><script src="/_next/static/6kJMM_TxDVEvXWcLUXavL/_ssgManifest.js" async=""></script></body></html>