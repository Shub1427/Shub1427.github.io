{"version":3,"file":"static/webpack/static/development/pages/_app.js.32dc5e83a03e56e8648d.hot-update.js","sources":["webpack:///./components/code-diff/item.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { useImmer } from 'use-immer';\nimport { makeStyles } from '@material-ui/core';\nimport cx from 'classnames';\nimport createElement from 'react-syntax-highlighter/dist/cjs/create-element';\n\nexport interface IDiffItemProps {\n  isAddedLine: boolean;\n  isRemovedLine: boolean;\n  index: number;\n  row: React.ReactNode;\n  stylesheet: any;\n  useInlineStyles: any;\n}\n\nconst useStyles = makeStyles({\n  listItem: {\n    position: 'relative',\n  },\n  diffNode: {\n    position: 'absolute',\n    top: 0,\n    right: 0,\n    bottom: 0,\n    left: 0,\n    marginLeft: '-14px',\n  },\n  diffAdd: {\n    background: 'rgba(139, 195, 74, 0.2)',\n    borderLeft: '2px solid rgb(139, 195, 74)',\n  },\n  diffRemove: {\n    background: 'rgba(239, 154, 154, 0.2)',\n    borderLeft: '2px solid rgb(239, 154, 154)',\n  },\n});\n\nexport default function DiffItem(props: IDiffItemProps) {\n  const classes = useStyles();\n  const addClasses = cx(classes.diffNode, classes.diffAdd);\n  const removeClasses = cx(classes.diffNode, classes.diffRemove);\n  const [styles, updateWidth] = useImmer({\n    width: 'auto',\n  });\n  const rootRef = useRef<HTMLDivElement | null>(null);\n\n  useEffect(() => {\n    if (rootRef.current) {\n      const width = rootRef.current.parentElement?.parentElement?.scrollWidth;\n      updateWidth(draft => {\n        draft.width = `${width}px`;\n      });\n    }\n  }, []);\n  const node2 = createElement({\n    node: props.row,\n    stylesheet: props.stylesheet,\n    useInlineStyles: props.useInlineStyles,\n  });\n  return (\n    <div ref={rootRef} className={classes.listItem}>\n      {props.isAddedLine && (\n        <div className={addClasses} style={{ width: styles.width }} />\n      )}\n      {props.isRemovedLine && (\n        <div className={removeClasses} style={{ width: styles.width }} />\n      )}\n      {node2}\n    </div>\n  );\n}\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAWA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAhBA;AAsBA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;;;;A","sourceRoot":""}